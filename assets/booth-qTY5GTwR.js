import{b as P,d as k,c as b,f as t,t as h,o as i,_ as y,e as B,u as c,i as U,r as p,h as M,w as W,n as F,F as j,g as D,j as V}from"./index-3Oubcjjr.js";const A=P("booth",{state:()=>({boothList:[{img:new URL("/gamecapsuleclub/assets/boothimg_sprite-BibagLh2.png",import.meta.url).href,boothNum:"B01",boothName:"大會攤",boothCount:2,author:"遊戲膠囊康輔社",area:"",url:"https://fukahire.github.io/gamecapsuleclub",index:0,event:1},{img:new URL("/gamecapsuleclub/assets/boothimg_sprite-BibagLh2.png",import.meta.url).href,boothNum:"B04",boothName:"軟體鬧鐘",boothCount:1,author:"魚翅",area:"網路空間",url:"https://plurk.com/fukahire",index:2,event:2},{img:new URL("/gamecapsuleclub/assets/boothimg_sprite-BibagLh2.png",import.meta.url).href,boothNum:"B03",boothName:"逆轉裁判",boothCount:1,author:"眼蟲",area:"裁判庭",url:"https://plurk.com/fukahire",index:3,event:4}]})}),E="/gamecapsuleclub/assets/boothimg_sprite-BibagLh2.png",O=["href"],G={class:"py-0.5 px-2 rounded-lg font-bold text-white bg-[#30507a] mb-0.5"},H={class:"relative"},J=["src"],K={class:"absolute rounded-full top-1 left-1 w-6 h-6 flex items-center justify-center text-white bg-amber-400 font-bold"},Q={class:"text-sm font-bold"},T={class:"text-sm font-bold"},Z={key:1,class:"w-full h-12 flex justify-center items-center font-bold text-lg"},q={key:2,class:"w-full h-full"},tt={class:"invisible py-0.5 px-2 mb-0.5"},ot=k({__name:"boothIndie",props:{booth:{},moved:{type:Boolean}},setup(l){const f=l,e=u=>{var n;f.moved&&(u.preventDefault(),(n=u.stopImmediatePropagation)==null||n.call(u))};return(u,n)=>(i(),b("div",{onClick:e},[l.booth.boothCount>0&&l.booth.boothCount<12?(i(),b("a",{key:0,draggable:"false",href:l.booth.url,class:"notdrag flex flex-col items-center",target:"_blank"},[t("p",G,h(l.booth.boothNum),1),t("div",H,[t("img",{draggable:"false",src:l.booth.img,class:"w-full block mb-1",alt:""},null,8,J),t("div",K,h(l.booth.event),1)]),t("div",null,[t("p",Q,h(l.booth.boothName),1),t("p",T,h(l.booth.author),1)])],8,O)):l.booth.boothCount==12?(i(),b("div",Z,"走道")):(i(),b("div",q,[t("p",tt,h(l.booth.boothNum),1),n[0]||(n[0]=t("img",{draggable:"false",src:E,class:"w-full block mb-1 brightness-50",alt:""},null,-1))]))]))}}),et=y(ot,[["__scopeId","data-v-cdf882c4"]]),st={key:0,class:"flex items-center gap-2"},lt={class:"py-0.5 px-2 rounded-lg font-bold text-white bg-[#30507a] mb-0.5"},nt={class:"text-sm font-bold text-left"},at={class:"text-sm font-bold text-left"},it=k({__name:"boothIndieMobile",props:{booth:{}},setup(l){const e=l.booth;return(u,n)=>(i(),b("div",null,[c(e).boothCount>0&&c(e).boothCount<12?(i(),b("div",st,[t("p",lt,h(c(e).boothNum),1),t("div",null,[t("p",nt,h(c(e).boothName),1),t("p",at,h(c(e).author),1)])])):B("",!0)]))}}),ut=y(it,[["__scopeId","data-v-2c0c29a1"]]),rt={class:"py-2 px-2 font-bold text-lg text-white bg-[#30507a]"},ct={class:"p-4 grid grid-cols-2 gap-2"},ht={class:"flex flex-col gap-1 items-stretch"},bt=["src"],dt=["href"],mt={class:"flex flex-col"},pt={class:"text-base font-bold grow"},ft={class:"text-left"},gt={class:"text-left"},vt={key:0,class:"text-left"},xt=k({__name:"boothIndieMobilePopup",props:{booth:{}},setup(l){const e=l.booth;return(u,n)=>(i(),b("div",null,[t("p",rt,h(c(e).boothNum),1),t("div",ct,[t("div",ht,[t("img",{src:c(e).img,class:"block",alt:""},null,8,bt),t("a",{href:c(e).url,target:"_blank",class:"py-1 px-2 rounded-lg font-bold text-white bg-[#30507a]"},"資訊連結",8,dt)]),t("div",mt,[t("div",pt,[t("p",ft,h(`攤位：${c(e).boothName}`),1),t("p",gt,h(`作者：${c(e).author}`),1),c(e).event>0?(i(),b("p",vt,h(`${c(e).event}號活動攤`),1)):B("",!0)]),t("div",{class:"w-8 h-8 text-white bg-[#30507a] rounded-full flex items-center justify-center self-end cursor-pointer",onClick:n[0]||(n[0]=I=>u.$emit("close"))},"X")])])]))}}),_t=y(xt,[["__scopeId","data-v-7ff8405f"]]),Nt={class:"hidden md:block"},$t={class:"block md:hidden min-h-screen"},kt={class:"grid grid-cols-2 gap-y-1"},yt=k({__name:"booth",setup(l){const f=A().boothList,e=U(()=>{const a=f.map(o=>({...o}));let s=[],r="ABCDEFGHIJKLMNOPQRSTUVWXYZ",m=new Map;for(let o=0;o<26;o++)m.set(r[o],o+1);const N=new Map;for(const[o,d]of m.entries())N.set(d,o);let $=a.map(o=>m.has(o.boothNum[0])?{...o,boothNum:`${m.get(o.boothNum[0])}${o.boothNum.slice(1)}`}:o);for(let o=0;o<$.length;o++)for(let d=0;d<$[o].boothCount;d++)s.push({...$[o],boothNum:(Number($[o].boothNum)+d).toString()});s.sort(function(o,d){return Number(o.boothNum)-Number(d.boothNum)});let v=s.map(o=>N.has(Number(o.boothNum[0]))?{...o,boothNum:`${N.get(Number(o.boothNum[0]))}${o.boothNum.slice(1)}`}:o);if(v.length<36){let o=36-v.length;for(let d=0;d<o;d++)v.push({img:"booth/boothimg_sprite.png",boothNum:"00",boothName:"",boothCount:0,author:"",area:"",url:"",index:0,event:0})}return v.splice(12,0,{img:"",boothNum:"00",boothName:"",boothCount:12,author:"",area:"",url:"",index:0,event:0}),v}),u=p(null),n=p(!1),I=()=>{u.value=null,n.value=!1},R=a=>{n.value=!0,u.value=a},x=p(1),w=p(!1),g=p({x:0,y:0}),C=p(!1),_=p({x:0,y:0});function S(a){const s=a.deltaY>0?-.1:.1;x.value=Math.min(3,Math.max(.5,x.value+s))}function X(a){C.value=!0,w.value=!1,_.value={x:a.clientX,y:a.clientY}}function Y(a){if(!C.value)return;const s=a.clientX-_.value.x,r=a.clientY-_.value.y;(Math.abs(s)>2||Math.abs(r)>2)&&(w.value=!0),g.value.x+=s,g.value.y+=r,_.value={x:a.clientX,y:a.clientY}}function L(){C.value=!1}function z(){x.value=1,g.value={x:0,y:0}}return(a,s)=>(i(),b("div",null,[t("div",Nt,[s[2]||(s[2]=t("p",{class:"text-3xl font-black text-[#30507a] drag-item"},"活動攤位圖",-1)),t("div",{class:"mt-2 mb-4 flex justify-center"},[s[1]||(s[1]=t("div",{class:"flex gap-1 items-center"},[t("div",{class:"w-4 h-4 border-2 bg-amber-400 rounded-full"}),t("p",{class:"font-bold drag-item"},"活動集點攤")],-1)),t("div",{class:"bg-[#30507a] p-1 px-2 rounded-xl font-bold text-white ml-2 cursor-pointer drag-item",onClick:z},"復原")]),t("div",{class:"w-4/5 h-full overflow-hidden bg-gray-600/30 mx-auto",onWheel:W(S,["prevent"]),onMousedown:X,onMousemove:Y,onMouseup:L,onMouseleave:L},[t("div",{style:F({transform:`translate(${g.value.x}px, ${g.value.y}px) scale(${x.value})`}),class:"grid grid-cols-12 drag-item w-full min-w-[1200px]"},[(i(!0),b(j,null,D(e.value,(r,m)=>(i(),M(et,{class:V(`${r.boothCount==12?"col-span-12":""}`),moved:w.value,key:m,booth:r},null,8,["class","moved","booth"]))),128))],4)],32)]),t("div",$t,[s[3]||(s[3]=t("p",{class:"text-3xl font-black text-[#30507a] mb-2 drag-item"},"活動攤位圖",-1)),t("div",kt,[(i(!0),b(j,null,D(e.value,(r,m)=>(i(),M(ut,{key:`${r.boothNum}${m}`,booth:r,onClick:N=>R(r)},null,8,["booth","onClick"]))),128))])]),n.value?(i(),M(_t,{key:0,class:"fixed left-0 bottom-0 z-20 bg-white rounded-t-xl overflow-hidden",booth:u.value,open:n.value,onClose:s[0]||(s[0]=r=>I())},null,8,["booth","open"])):B("",!0)]))}}),Ct=y(yt,[["__scopeId","data-v-4b762195"]]);export{Ct as default};
