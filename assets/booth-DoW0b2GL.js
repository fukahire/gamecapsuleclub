import{b as $,d as y,c as h,f as o,t as f,o as i,_ as k,i as L,r as g,n as D,F as I,g as j,w as R,h as S,j as Y}from"./index-BGPP3rdc.js";const U=$("booth",{state:()=>({boothList:[{img:new URL("/gamecapsuleclub/assets/boothimg_sprite-BibagLh2.png",import.meta.url).href,boothNum:"B01",boothName:"大會攤",boothCount:2,author:"遊戲膠囊康輔社",area:"",url:"https://fukahire.github.io/gamecapsuleclub",index:0,event:1},{img:new URL("/gamecapsuleclub/assets/boothimg_sprite-BibagLh2.png",import.meta.url).href,boothNum:"B04",boothName:"軟體鬧鐘",boothCount:1,author:"魚翅",area:"網路空間",url:"https://plurk.com/fukahire",index:2,event:2},{img:new URL("/gamecapsuleclub/assets/boothimg_sprite-BibagLh2.png",import.meta.url).href,boothNum:"B03",boothName:"逆轉裁判",boothCount:1,author:"眼蟲",area:"裁判庭",url:"https://plurk.com/fukahire",index:3,event:4}]})}),W="/gamecapsuleclub/assets/boothimg_sprite-BibagLh2.png",X=["href"],z={class:"py-0.5 px-2 rounded-lg font-bold text-white bg-[#30507a] mb-0.5"},F={class:"relative"},A=["src"],E={class:"absolute rounded-full top-1 left-1 w-6 h-6 flex items-center justify-center text-white bg-amber-400 font-bold"},P={class:"text-sm font-bold"},V={class:"text-sm font-bold"},G={key:1,class:"w-full h-12 flex justify-center items-center font-bold text-lg"},H={key:2,class:"w-full h-full"},J={class:"invisible py-0.5 px-2 mb-0.5"},K=y({__name:"boothIndie",props:{booth:{},moved:{type:Boolean}},setup(a){const v=a,x=n=>{var r;v.moved&&(n.preventDefault(),(r=n.stopImmediatePropagation)==null||r.call(n))};return(n,r)=>(i(),h("div",{onClick:x},[a.booth.boothCount>0&&a.booth.boothCount<12?(i(),h("a",{key:0,draggable:"false",href:a.booth.url,class:"notdrag flex flex-col items-center",target:"_blank"},[o("p",z,f(a.booth.boothNum),1),o("div",F,[o("img",{draggable:"false",src:a.booth.img,class:"w-full block mb-1",alt:""},null,8,A),o("div",E,f(a.booth.event),1)]),o("div",null,[o("p",P,f(a.booth.boothName),1),o("p",V,f(a.booth.author),1)])],8,X)):a.booth.boothCount==12?(i(),h("div",G,"走道")):(i(),h("div",H,[o("p",J,f(a.booth.boothNum),1),r[0]||(r[0]=o("img",{draggable:"false",src:W,class:"w-full block mb-1 brightness-50",alt:""},null,-1))]))]))}}),O=k(K,[["__scopeId","data-v-cdf882c4"]]),Q={class:"pt-20 md:pt-0 mb-30"},T=y({__name:"booth",setup(a){const v=U().boothList,x=L(()=>{let e=[],s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",u=new Map;for(let t=0;t<26;t++)u.set(s[t],t+1);const c=new Map;for(const[t,l]of u.entries())c.set(l,t);let m=v.map(t=>(u.has(t.boothNum[0])&&(t.boothNum=`${u.get(t.boothNum[0])}${t.boothNum[1]}${t.boothNum[2]}`),t));for(let t=0;t<m.length;t++)for(let l=0;l<m[t].boothCount;l++)l>0?e.push({...m[t],boothNum:(Number(m[t].boothNum)+l).toString()}):e.push(m[t]);e.sort(function(t,l){return Number(t.boothNum)-Number(l.boothNum)});let d=e.map(t=>(c.has(Number(t.boothNum[0]))&&(t.boothNum=`${c.get(Number(t.boothNum[0]))}${t.boothNum[1]}${t.boothNum[2]}`),t));if(d.length<36){let t=36-d.length;for(let l=0;l<t;l++)d.push({img:"booth/boothimg_sprite.png",boothNum:"00",boothName:"",boothCount:0,author:"",area:"",url:"",index:0,event:0})}return d.splice(12,0,{img:"",boothNum:"00",boothName:"",boothCount:12,author:"",area:"",url:"",index:0,event:0}),d}),n=g(1),r=g(!1),b=g({x:0,y:0}),N=g(!1),p=g({x:0,y:0});function w(e){const s=e.deltaY>0?-.1:.1;n.value=Math.min(3,Math.max(.5,n.value+s))}function C(e){N.value=!0,r.value=!1,p.value={x:e.clientX,y:e.clientY}}function B(e){if(!N.value)return;const s=e.clientX-p.value.x,u=e.clientY-p.value.y;(Math.abs(s)>2||Math.abs(u)>2)&&(r.value=!0),b.value.x+=s,b.value.y+=u,p.value={x:e.clientX,y:e.clientY}}function _(){N.value=!1}function M(){n.value=1,b.value={x:0,y:0}}return(e,s)=>(i(),h("div",Q,[s[1]||(s[1]=o("p",{class:"text-3xl font-black text-[#30507a] mb-2"},"活動攤位圖",-1)),o("div",{class:"mt-4 mb-6 flex justify-center"},[s[0]||(s[0]=o("div",{class:"flex gap-1 items-center"},[o("div",{class:"w-4 h-4 border-2 bg-amber-400 rounded-full"}),o("p",{class:"font-bold"},"活動集點攤")],-1)),o("div",{class:"bg-[#30507a] p-1 px-2 rounded-xl font-bold text-white ml-2 cursor-pointer",onClick:M},"復原")]),o("div",{class:"w-4/5 h-full overflow-hidden bg-gray-600/30 mx-auto",onWheel:R(w,["prevent"]),onMousedown:C,onMousemove:B,onMouseup:_,onMouseleave:_},[o("div",{style:D({transform:`translate(${b.value.x}px, ${b.value.y}px) scale(${n.value})`}),class:"grid grid-cols-12 drag-item w-full min-w-[1200px]"},[(i(!0),h(I,null,j(x.value,(u,c)=>(i(),S(O,{class:Y(`${u.boothCount==12?"col-span-12":""}`),moved:r.value,key:c,booth:u},null,8,["class","moved","booth"]))),128))],4)],32)]))}}),q=k(T,[["__scopeId","data-v-2fd545a4"]]);export{q as default};
